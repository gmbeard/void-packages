# Template file for 'mujs'
pkgname=mujs
version=1.3.5
revision=1
build_style=gnu-makefile
make_build_args="release"
make_install_args="prefix=/usr install-common install-shared"
makedepends="readline-devel"
short_desc="Embeddable JavaScript interpreter written in C"
maintainer="dkwo <npiazza@disroot.org>"
license="ISC"
homepage="https://mujs.com/"
distfiles="https://github.com/ccxvii/mujs/archive/refs/tags/${version}.tar.gz"
checksum=78a311ae4224400774cb09ef5baa2633c26971513f8b931d3224a0eb85b13e0b

CFLAGS="-DHAVE_READLINE"

mujs-libs_package() {
	short_desc+=" - libs"
	pkg_install() {
		vmove usr/lib/*.so
		vmove usr/lib/*.so.*
		vlicense COPYING
	}
}

mujs-devel_package() {
	short_desc+=" - development files"
	depends="${sourcepkg}>=${version}_${revision}"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/*.a
		vmove usr/lib/pkgconfig
	}
}
